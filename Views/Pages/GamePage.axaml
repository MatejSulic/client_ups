<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:AvalonClient.ViewModels"
             x:Class="AvalonClient.Views.Pages.GamePage"
             x:DataType="vm:GameViewModel">

  <Border Padding="14" CornerRadius="10" BorderThickness="1">
    <StackPanel Spacing="10">

      <StackPanel Orientation="Horizontal" Spacing="12">
        <StackPanel>
          <TextBlock FontSize="20" Text="GAME"/>
          <TextBlock Opacity="0.8" Text="{Binding RoomBadge}"/>
        </StackPanel>

        <Border Padding="8" CornerRadius="8" BorderThickness="1">
          <TextBlock Text="{Binding TurnText}"/>
        </Border>

        <Button Content="LEAVE" Command="{Binding LeaveCommand}" Width="120" />
      </StackPanel>

      <TextBlock Text="{Binding Status}" />

      <StackPanel Orientation="Horizontal" Spacing="16">

        <!-- Enemy grid = click to shoot -->
        <Border Padding="10" CornerRadius="8" BorderThickness="1">
          <StackPanel Spacing="6">
            <TextBlock Text="Enemy (click to shoot)" Opacity="0.85"/>
            <UniformGrid x:Name="EnemyGrid" Rows="10" Columns="10"/>
            <TextBlock Opacity="0.7" Text="Legend: . unknown, H hit, M miss" />
          </StackPanel>
        </Border>

        <Border Padding="10" CornerRadius="8" BorderThickness="1">
          <StackPanel Spacing="6">
            <TextBlock Text="Your grid" Opacity="0.85"/>
            <UniformGrid x:Name="SelfGrid" Rows="10" Columns="10"/>
            <TextBlock Opacity="0.7" Text="Legend: . unknown, H hit, M miss" />
          </StackPanel>
        </Border>



      </StackPanel>

      <!-- Debug text boards (optional) -->
      <StackPanel Orientation="Horizontal" Spacing="16">
        <ItemsControl ItemsSource="{Binding EnemyRows}">
          <ItemsControl.ItemTemplate>
            <DataTemplate>
              <TextBlock FontFamily="Consolas" Text="{Binding}" />
            </DataTemplate>
          </ItemsControl.ItemTemplate>
        </ItemsControl>

        <ItemsControl ItemsSource="{Binding SelfRows}">
          <ItemsControl.ItemTemplate>
            <DataTemplate>
              <TextBlock FontFamily="Consolas" Text="{Binding}" />
            </DataTemplate>
          </ItemsControl.ItemTemplate>
        </ItemsControl>
      </StackPanel>

    </StackPanel>
  </Border>
</UserControl>
